// BÃ¡m theo DBI: Users/Students/Course_Offerings/Groups/Jira_Tasks/Github_Activities/Jira_Projects/Github_Repositories

function deepFreeze(obj) {
  Object.keys(obj).forEach((prop) => {
    if (
      typeof obj[prop] === "object" &&
      obj[prop] !== null &&
      !Object.isFrozen(obj[prop])
    ) {
      deepFreeze(obj[prop]);
    }
  });
  return Object.freeze(obj);
}

const rawMockDb = {
  // current auth session (FE mock)
  session: {
    user: {
      id: 1,
      account: "student01",
      role: "Student",
      email: "student01@fpt.edu.vn",
      github_username: "anhnv_se123",
      jira_account_id: "jira-anhnv-101",
    },
    student: {
      id: 101,
      user_id: 1,
      full_name: "Nguyen Van Anh",
      student_code: "SE123456",
      status: "active",
      enrollment_year: 2023,
      major: "SE",
      class_id: 10,
      group_id: 301,
    },
  },

  semesters: [{ id: 1, code: "SP26", name: "Spring 2026", status: "ACTIVE" }],

  classes: [
    {
      id: 10,
      class_code: "SE1701",
      class_name: "Software Engineering 1701",
      lecturer_id: 2,
    },
  ],

  currentSemesterId: 1,

  courseOfferings: [
    {
      id: 11,
      course_id: 1,
      semester: "SP26",
      start_date: "2026-01-05",
      end_date: "2026-04-10",
    },
  ],

  courses: [{ id: 1, course_code: "SWP391", course_name: "Software Project" }],

  projects: [
    {
      id: 201,
      course_offering_id: 11,
      project_code: "SWP-VIBE-01",
      project_name: "VibeSync: Jira-GitHub Integration",
      description:
        "A premium dashboard for tracking multi-platform engineering activities.",
      is_active: true,
      max_group: 5,
    },
  ],

  groups: [
    {
      id: 301,
      course_offering_id: 11,
      project_id: 201,
      group_name: "Agile Warriors",
      description: "Team focused on high-performance syncing patterns.",
      status: "active",
      leader_student_id: 101,
      supervisor_id: 2,
    },
    {
      id: 302,
      course_offering_id: 11,
      project_id: 201,
      group_name: "Code Ninjas",
      description: "Specialized in backend microservices.",
      status: "active",
      leader_student_id: 106,
      supervisor_id: 2,
    },
    {
      id: 303,
      course_offering_id: 11,
      project_id: 201,
      group_name: "UX Pioneers",
      description: "Frontend-focused team with strong design skills.",
      status: "active",
      leader_student_id: 109,
      supervisor_id: 3,
    },
  ],

  groupMembers: [
    {
      id: 401,
      group_id: 301,
      student_id: 101,
      role_in_group: "Leader",
      contribution_score: 9.5,
      joined_at: "2026-02-01T08:00:00Z",
    },
    {
      id: 402,
      group_id: 301,
      student_id: 102,
      role_in_group: "Member",
      contribution_score: 8.8,
      joined_at: "2026-02-01T08:00:00Z",
    },
    {
      id: 403,
      group_id: 301,
      student_id: 103,
      role_in_group: "Member",
      contribution_score: 7.2,
      joined_at: "2026-02-02T08:00:00Z",
    },
    {
      id: 404,
      group_id: 301,
      student_id: 104,
      role_in_group: "Member",
      contribution_score: 9.0,
      joined_at: "2026-02-02T08:00:00Z",
    },
    {
      id: 405,
      group_id: 301,
      student_id: 105,
      role_in_group: "Member",
      contribution_score: 6.5,
      joined_at: "2026-02-05T08:00:00Z",
    },
    {
      id: 406,
      group_id: 302,
      student_id: 106,
      role_in_group: "Leader",
      contribution_score: 8.0,
      joined_at: "2026-02-01T08:00:00Z",
    },
    {
      id: 407,
      group_id: 302,
      student_id: 107,
      role_in_group: "Member",
      contribution_score: 7.5,
      joined_at: "2026-02-01T08:00:00Z",
    },
    {
      id: 408,
      group_id: 302,
      student_id: 108,
      role_in_group: "Member",
      contribution_score: 8.3,
      joined_at: "2026-02-02T08:00:00Z",
    },
    {
      id: 409,
      group_id: 303,
      student_id: 109,
      role_in_group: "Leader",
      contribution_score: 9.2,
      joined_at: "2026-02-01T08:00:00Z",
    },
    {
      id: 410,
      group_id: 303,
      student_id: 110,
      role_in_group: "Member",
      contribution_score: 8.1,
      joined_at: "2026-02-01T08:00:00Z",
    },
  ],

  students: [
    {
      id: 101,
      user_id: 1,
      full_name: "Nguyen Van Anh",
      student_code: "SE123456",
      github_username: "anhnv_se123",
      major: "SE",
      email: "anh.nv@fpt.edu.vn",
    },
    {
      id: 102,
      user_id: 2,
      full_name: "Tran Minh Bao",
      student_code: "SE123457",
      github_username: "baotm_dev",
      major: "SE",
      email: "bao.tm@fpt.edu.vn",
    },
    {
      id: 103,
      user_id: 3,
      full_name: "Le Thi Chi",
      student_code: "SE123458",
      github_username: "chilt_design",
      major: "GD",
      email: "chi.lt@fpt.edu.vn",
    },
    {
      id: 104,
      user_id: 4,
      full_name: "Pham Duc Duy",
      student_code: "SE123459",
      github_username: "duypd_backend",
      major: "SE",
      email: "duy.pd@fpt.edu.vn",
    },
    {
      id: 105,
      user_id: 5,
      full_name: "Hoang Van Em",
      student_code: "SE123460",
      github_username: "emhv_tester",
      major: "AI",
      email: "em.hv@fpt.edu.vn",
    },
    {
      id: 106,
      user_id: 6,
      full_name: "Vo Thi Phuong",
      student_code: "SE123461",
      github_username: "phuongvt_dev",
      major: "SE",
      email: "phuong.vt@fpt.edu.vn",
    },
    {
      id: 107,
      user_id: 7,
      full_name: "Nguyen Dinh Phuc",
      student_code: "SE123462",
      github_username: "phucnd_ops",
      major: "SE",
      email: "phuc.nd@fpt.edu.vn",
    },
    {
      id: 108,
      user_id: 8,
      full_name: "Dinh Thi Lan",
      student_code: "SE123463",
      github_username: "landt_testing",
      major: "AI",
      email: "lan.dt@fpt.edu.vn",
    },
    {
      id: 109,
      user_id: 9,
      full_name: "Tran Minh Khoa",
      student_code: "SE123464",
      github_username: "khoatm_ui",
      major: "GD",
      email: "khoa.tm@fpt.edu.vn",
    },
    {
      id: 110,
      user_id: 10,
      full_name: "Le Van Thanh",
      student_code: "SE123465",
      github_username: "thanhlv_react",
      major: "SE",
      email: "thanh.lv@fpt.edu.vn",
    },
  ],

  lecturers: [
    {
      id: 2,
      user_id: 10,
      full_name: "Dr. Nguyen Van Quan",
      department: "Software Engineering",
      email: "quan_nv@fpt.edu.vn",
      account: "lecturer01",
    },
    {
      id: 3,
      user_id: 11,
      full_name: "Prof. Tran Thi Lan",
      department: "Computer Science",
      email: "lan_tt@fpt.edu.vn",
      account: "lecturer02",
    },
  ],

  grades: [
    {
      id: 1,
      group_id: 301,
      lecturer_id: 2,
      milestone: "Sprint 1 Review",
      score: 8.5,
      feedback: "Good progress on API design. Need to improve test coverage.",
      date: "2026-02-10",
      status: "GRADED",
    },
    {
      id: 2,
      group_id: 301,
      lecturer_id: 2,
      milestone: "SRS Submission",
      score: null,
      feedback: null,
      date: "2026-02-20",
      status: "PENDING",
    },
    {
      id: 3,
      group_id: 302,
      lecturer_id: 2,
      milestone: "Sprint 1 Review",
      score: 7.8,
      feedback: "Solid backend work. Frontend integration needs attention.",
      date: "2026-02-11",
      status: "GRADED",
    },
    {
      id: 4,
      group_id: 302,
      lecturer_id: 2,
      milestone: "SRS Submission",
      score: null,
      feedback: null,
      date: "2026-02-20",
      status: "PENDING",
    },
    {
      id: 5,
      group_id: 303,
      lecturer_id: 3,
      milestone: "Sprint 1 Review",
      score: 9.0,
      feedback: "Excellent UI work and strong user research.",
      date: "2026-02-10",
      status: "GRADED",
    },
  ],

  jiraProjects: [
    {
      id: 501,
      group_id: 301,
      jira_project_key: "VIBE",
      jira_project_id: "10022",
      jira_base_url: "https://vibesync.atlassian.net",
    },
  ],

  githubRepositories: [
    {
      id: 601,
      group_id: 301,
      repo_url: "https://github.com/agile-warriors/vibe-sync-fe",
      repo_owner: "agile-warriors",
      repo_name: "vibe-sync-fe",
      default_branch: "main",
    },
    {
      id: 602,
      group_id: 301,
      repo_url: "https://github.com/agile-warriors/vibe-sync-be",
      repo_owner: "agile-warriors",
      repo_name: "vibe-sync-be",
      default_branch: "develop",
    },
  ],

  jiraTasks: [
    // Sprint 1: Foundation
    {
      id: 701,
      group_id: 301,
      jira_issue_key: "VIBE-1",
      title: "Setup Project Architecture",
      description: "Vite + React + Tailwind setup",
      start_date: "2026-02-01",
      dueDate: "2026-02-05",
      status: "DONE",
      priority: "HIGH",
      assigneeName: "Nguyen Van Anh",
    },
    {
      id: 702,
      group_id: 301,
      jira_issue_key: "VIBE-2",
      title: "Design System Tokens",
      description: "Color palette and typography",
      start_date: "2026-02-01",
      dueDate: "2026-02-03",
      status: "DONE",
      priority: "MEDIUM",
      assigneeName: "Le Thi Chi",
    },
    {
      id: 703,
      group_id: 301,
      jira_issue_key: "VIBE-3",
      title: "Database Schema (ERD)",
      description: "Define Core tables",
      start_date: "2026-02-02",
      dueDate: "2026-02-06",
      status: "DONE",
      priority: "HIGH",
      assigneeName: "Pham Duc Duy",
    },

    // Sprint 2: Core Features
    {
      id: 704,
      group_id: 301,
      jira_issue_key: "VIBE-4",
      title: "Auth Module Implementation",
      description: "JWT + RBAC",
      start_date: "2026-02-07",
      dueDate: "2026-02-15",
      status: "DONE",
      priority: "HIGH",
      assigneeName: "Pham Duc Duy",
    },
    {
      id: 705,
      group_id: 301,
      jira_issue_key: "VIBE-5",
      title: "Dashboard Heatmap Component",
      description: "Visualizing commits",
      start_date: "2026-02-10",
      dueDate: "2026-02-20",
      status: "IN_PROGRESS",
      priority: "MEDIUM",
      assigneeName: "Tran Minh Bao",
    },
    {
      id: 706,
      group_id: 301,
      jira_issue_key: "VIBE-6",
      title: "Jira API Integration Service",
      description: "Fetching issues via REST",
      start_date: "2026-02-12",
      dueDate: "2026-02-22",
      status: "IN_REVIEW",
      priority: "HIGH",
      assigneeName: "Nguyen Van Anh",
    },
    {
      id: 707,
      group_id: 301,
      jira_issue_key: "VIBE-7",
      title: "SRS Builder Logic",
      description: "Task mapping to sections",
      start_date: "2026-02-15",
      dueDate: "2026-02-25",
      status: "IN_PROGRESS",
      priority: "MEDIUM",
      assigneeName: "Nguyen Van Anh",
    },

    // Backlog / Future
    {
      id: 708,
      group_id: 301,
      jira_issue_key: "VIBE-8",
      title: "PDF Report Generation",
      description: "Using jsPDF",
      start_date: "2026-02-20",
      dueDate: "2026-03-01",
      status: "TODO",
      priority: "LOW",
      assigneeName: "Tran Minh Bao",
    },
    {
      id: 709,
      group_id: 301,
      jira_issue_key: "VIBE-9",
      title: "Unit testing for Auth",
      description: "Vitest setup",
      start_date: "2026-02-22",
      dueDate: "2026-02-28",
      status: "TODO",
      priority: "LOW",
      assigneeName: "Hoang Van Em",
    },
    {
      id: 710,
      group_id: 301,
      jira_issue_key: "VIBE-10",
      title: "Fix Sidebar flickering",
      description: "CSS transition fix",
      start_date: "2026-02-23",
      dueDate: "2026-02-24",
      status: "OVERDUE",
      priority: "HIGH",
      assigneeName: "Le Thi Chi",
    },
    {
      id: 711,
      group_id: 301,
      jira_issue_key: "VIBE-11",
      title: "Dark Mode Support",
      description: "Theme switching",
      start_date: "2026-03-01",
      dueDate: "2026-03-05",
      status: "TODO",
      priority: "MEDIUM",
      assigneeName: "Le Thi Chi",
    },
  ],

  githubActivities: [
    {
      id: 801,
      group_id: 301,
      github_username: "anhnv_se123",
      activity_type: "push",
      commit_message: "feat: init project skeleton with vite",
      occurred_at: "2026-02-20T10:00:00Z",
      pushed_commit_count: 5,
    },
    {
      id: 802,
      group_id: 301,
      github_username: "duypd_backend",
      activity_type: "push",
      commit_message: "feat: implement basic auth guards",
      occurred_at: "2026-02-21T14:30:00Z",
      pushed_commit_count: 2,
    },
    {
      id: 803,
      group_id: 301,
      github_username: "chilt_design",
      activity_type: "push",
      commit_message: "style: add global design tokens",
      occurred_at: "2026-02-22T09:15:00Z",
      pushed_commit_count: 1,
    },
    {
      id: 804,
      group_id: 301,
      github_username: "baotm_dev",
      activity_type: "push",
      commit_message: "feat: add registration flow UI",
      occurred_at: "2026-02-23T11:45:00Z",
      pushed_commit_count: 3,
    },
    {
      id: 805,
      group_id: 301,
      github_username: "anhnv_se123",
      activity_type: "push",
      commit_message: "refactor: optimize rendering logic",
      occurred_at: "2026-02-24T16:00:00Z",
      pushed_commit_count: 4,
    },
    {
      id: 806,
      group_id: 301,
      github_username: "duypd_backend",
      activity_type: "push",
      commit_message: "fix: solve race condition in auth",
      occurred_at: "2026-02-25T08:20:00Z",
      pushed_commit_count: 1,
    },
  ],

  syncLogs: [
    {
      id: 901,
      group_id: 301,
      at: "2026-02-25T09:00:00Z",
      action: "sync",
      result: "OK",
      detail: "Refreshed 11 tasks and 6 activities",
    },
  ],
};

export const mockDb = deepFreeze(rawMockDb);
